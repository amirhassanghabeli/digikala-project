"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1728],{26956:function(e,s,n){n.d(s,{x:function(){return l}});var t=n(52322),i=n(57931),o=n(98780),a=n(52216),r=n(72677);function l(e){var s=e.className,n=e.classNamePadding,l=e.feedbackContentClass,c=e.likeCount,d=e.dislikeCount,u=e.onLike,m=e.onDislike,x=e.isComments,w=void 0!==x&&x,h=e.isLoadingLike,p=e.isLoadingDislike,A=e.isLike,f=e.isDislike,k=e.thumbsUpCroId,j=e.thumbsDownCroId,q=(0,r.d)("flex items-center text-neutral-500",void 0===n?"pt-3":n,s),N=(0,r.d)("text-body-2 lg:ml-10",l,{"hidden lg:block":!w}),v=(0,r.d)({"text-hint-text-success":A,"text-neutral-400":!A}),I=(0,r.d)({"text-hint-text-error":f,"text-neutral-400":!f}),b=(0,r.d)("mr-1",{"text-hint-success-text":A,"text-neutral-400":!A}),L=(0,r.d)("mr-1",{"text-hint-text-error":f,"text-neutral-400":!f});return(0,t.jsxs)("div",{className:q,children:[!w&&(0,t.jsx)("p",{className:N,children:"آیا این پاسخ مفید بود؟"}),(0,t.jsxs)("div",{className:"mr-auto lg:mr-0 flex items-center",children:[(0,t.jsx)(i.z,{isLoading:h,onClick:u,hasCustomMode:!0,mode:"text",size:"small",className:v,CROId:k,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:(0,a.U)(void 0===c?0:c)}),(0,t.jsx)(o.J,{icon:"thumbsUp",className:b,size:20,color:A?"success":"low-emphasis"})]})}),(0,t.jsxs)(i.z,{isLoading:p,onClick:m,hasCustomMode:!0,mode:"text",removePadding:!0,className:I,CROId:j,children:[(0,t.jsx)("p",{children:(0,a.U)(void 0===d?0:d)}),(0,t.jsx)(o.J,{icon:"thumbsDown",className:L,size:20,color:f?"error":"low-emphasis"})]})]})]})}},31969:function(e,s,n){n.d(s,{d:function(){return t}});var t={LIKE:"like",DISLIKE:"dislike"}},55059:function(e,s,n){n.d(s,{u:function(){return t}});function t(e){var s=e.data||{};return{dislikes:s.dislikes,likes:s.likes}}},21728:function(e,s,n){n.d(s,{Q:function(){return A}});var t=n(66383),i=n(52322),o=n(2784),a=n(98780),r=n(72677),l=n(41435),c=n(57931),d=n(65380);function u(e){var s=e.openAnswerModal,n=e.buttonText,t=e.CROId,o=e.className;return(0,i.jsx)("div",{className:(0,r.d)("mr-10",o),children:(0,i.jsxs)(c.z,{mode:"text",size:"small",color:"secondary",onClick:s,CROId:t,className:"mt-3 text-secondary-500",children:[n,(0,i.jsx)(a.J,{icon:"chevronLeft",color:"secondary",size:16,className:"mx-2"})]})})}var m=n(73739);function x(e){var s=e.className;return(0,i.jsx)(m.k,{className:s,icon:"infoOutline",children:"پاسخ شما ثبت شد و پس از بررسی و تایید نمایش داده خواهد شد."})}function w(e){var s=e.answers,n=e.questionText,t=e.submitted,o=e.showAllAnswers,r=e.setShowAllAnswers,l=e.openAnswerModal,m=e.className,w=e.disableReplayAction;return o||1===s.length?(0,i.jsxs)("div",{className:m,children:[s.map(function(e){return(0,i.jsx)(d.s,{className:"br-list-vertical-no-padding",questionAnswer:e,questionText:n},e.questionAnswerId)}),t?(0,i.jsx)(x,{}):!w&&(0,i.jsx)(u,{className:"border-complete-t mt-4",buttonText:"ثبت پاسخ جدید",openAnswerModal:l})]}):s.length>1?(0,i.jsxs)("div",{className:m,children:[(0,i.jsx)(d.s,{questionAnswer:s[0],questionText:n}),(0,i.jsxs)(c.z,{shape:"text",color:"secondary",onClick:function(){r(!0)},className:"mt-2 mb-3 pr-0 mr-10 font-bold text-secondary-500",children:["مشاهده‌ی پاسخ‌های دیگر",(0,i.jsx)(a.J,{icon:"expandMore",color:"secondary",className:"mx-2",size:24})]})]}):null}function h(e){var s=e.submitted,n=e.openAnswerModal,t=e.className,o=e.disableReplayAction;return s?(0,i.jsx)(x,{className:(0,r.d)("mt-4",t)}):(0,i.jsx)("div",{className:(0,r.d)("mt-4",t),children:o?null:(0,i.jsx)("div",{className:"border-complete-t",children:(0,i.jsx)(u,{buttonText:"ثبت پاسخ‌",CROId:"pdp-answer",openAnswerModal:n})})})}var p=(0,o.memo)(function(e){var s=e.answers,n=e.questionId,a=e.questionText,r=e.showAllAnswers,c=e.setShowAllAnswers,d=e.openAnswerModal,u=e.disableReplayAction,m=(0,t.Z)((0,o.useState)(!1),2),x=m[0],p=m[1],A=function(){p(!0)},f=function(){d({questionId:n,questionText:a,successCallback:A})};return(0,l.x)(s)?(0,i.jsx)(h,{submitted:x,openAnswerModal:f,disableReplayAction:u}):(0,i.jsx)(w,{answers:s,questionText:a,submitted:x,showAllAnswers:r,setShowAllAnswers:c,openAnswerModal:f,disableReplayAction:u})});function A(e){var s=e.className,n=e.question,l=e.disableReplayAction,c=e.openAnswerModal,d=n||{},u=d.questionAnswers,m=d.questionText,x=d.questionId,w=(0,t.Z)((0,o.useState)(!1),2),h=w[0],A=w[1];return(0,i.jsxs)("article",{className:(0,r.d)(s,"py-3"),children:[(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)("span",{className:"mt-1 ml-4",children:(0,i.jsx)(a.J,{icon:"question",color:"secondary",size:24})}),(0,i.jsx)("p",{className:"text-subtitle w-full",children:m})]}),(0,i.jsx)(p,{questionId:x,answers:u,questionText:m,showAllAnswers:h,setShowAllAnswers:A,openAnswerModal:c,disableReplayAction:l})]})}},65380:function(e,s,n){n.d(s,{s:function(){return L}});var t=n(66383),i=n(52322),o=n(2784),a=n(17165),r=n(45756),l=n(66781),c=n(82650),d=n(11559),u=n(40565),m=n(41435),x=n(55059),w=n(45227),h=n(1324),p=n(12694),A=(0,h.q)({type:w.XN.POST,url:function(e){var s=e.answerId;return"answers/".concat(s,"/like/")},inputTransformer:function(e){var s=e.type;return(0,p.s)({type:s})},transformer:x.u}),f=n(26956),k=n(31969),j=n(98780),q=n(31909),N=n(61695),v=n(82332),I=n(72677);function b(e){var s=e.className,n=e.media,t=e.onClick,o=n.mediaUrl,a=n.mediaType,r=n.mediaThumbnailUrl,l=(0,v.t)(a,N.L.VIDEO);return(0,i.jsxs)("div",{className:(0,I.d)(s,"relative cursor-pointer"),onClick:t,children:[(0,i.jsx)(q.E,{alt:"question-answer-media",src:l?r:o,rounded:8,height:50,width:50}),l&&(0,i.jsx)(j.J,{size:24,className:"absolute bottom-0 left-0",icon:"playSimple",color:"white"})]})}function L(e){var s=e.className,n=e.questionAnswer,x=e.questionText,w=e.isInDetailModal,h=n||{},p=h.questionAnswerId,j=h.questionAnswerText,q=h.questionAnswerType,N=h.questionAnswerSender,v=h.questionAnswerUserReaction,I=h.questionAnswerReactionsLikes,L=h.questionAnswerHasQABadge,C=h.questionAnswerReactionsDisLikes,y=h.questionAnswerMedias,R=(0,t.Z)((0,o.useState)([v].includes(k.d.LIKE)),2),D=R[0],g=R[1],S=(0,t.Z)((0,o.useState)([v].includes(k.d.DISLIKE)),2),T=S[0],E=S[1],M=(0,t.Z)((0,o.useState)({questionAnswerReactionsLikes:I,questionAnswerReactionsDisLikes:C}),2),z=M[0],U=M[1],K=function(e){var s=e||{},t=s.likes,i=s.dislikes;U({questionAnswerReactionsLikes:t,questionAnswerReactionsDisLikes:i}),n.questionAnswerReactionsDisLikes=i,n.questionAnswerReactionsLikes=t},O=(0,d.E)({apiMethod:A,onSuccess:K}),P=O.request,_=O.pending,J=(0,d.E)({apiMethod:A,onSuccess:K}),Z=J.request,Q=J.pending,B=(0,c.z)().emit;return(0,u.x)([{event:l.s6,handler:function(e){p===e.questionAnswerId&&(E([v].includes(k.d.DISLIKE)),g([v].includes(k.d.LIKE)),U({questionAnswerReactionsLikes:I,questionAnswerReactionsDisLikes:C}))}}]),(0,i.jsxs)("div",{className:s,children:[(0,i.jsxs)("div",{className:"flex items-center mt-4 text-neutral-600",children:[(0,i.jsx)("p",{className:"text-caption ml-4",children:"پاسخ"}),(0,i.jsx)("div",{className:"grow",children:(0,i.jsx)("p",{className:"text-body-1",children:j})})]}),(0,i.jsxs)("div",{className:"flex flex-col items-start justify-center mr-10",children:[!w&&!(0,m.x)(y)&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2 mt-3 lg:mb-3 mb-4",children:y.map(function(e,s){return(0,i.jsx)(b,{media:e,onClick:function(){return B(l.P8,{questionAnswer:n,questionText:x,mediaIndex:s})}})})}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)("p",{className:"text-caption text-neutral-400",children:N}),L?(0,i.jsx)(a.C,{size:"small",text:"نماینده برند",textClasses:"text-neutral-000",bgColor:"neutral-400"}):"buyer"===q?(0,i.jsx)(a.C,{size:"small",text:"خریدار",type:"success"}):"seller"===q?(0,i.jsx)(a.C,{size:"small",text:"فروشنده",type:"success"}):null]}),(0,i.jsx)(f.x,{onLike:function(){P({type:k.d.LIKE,answerId:p}).then(function(e){e.likes>z.questionAnswerReactionsLikes?(g(!0),n.questionAnswerUserReaction=k.d.LIKE):(g(!1),n.questionAnswerUserReaction="")}).finally(function(){E(!1)})},isLike:D,className:"mr-auto",onDislike:function(){Z({answerId:p,type:k.d.DISLIKE}).then(function(e){e.dislikes>z.questionAnswerReactionsDisLikes?(E(!0),n.questionAnswerUserReaction=k.d.DISLIKE):(E(!1),n.questionAnswerUserReaction="")}).finally(function(){g(!1)})},isDislike:T,isLoadingLike:_,isLoadingDislike:Q,likeCount:null==z?void 0:z.questionAnswerReactionsLikes,dislikeCount:null==z?void 0:z.questionAnswerReactionsDisLikes,thumbsUpCroId:r.h.PDP_QUESTION_LIKE,thumbsDownCroId:r.h.PDP_QUESTION_DISLIKE})]})]})}}}]);